<!-- <div ng-include="'partials/traineeModule/dashboard/feedbackModal.html'"></div> -->
<div ng-include="'partials/adminModule/courseManagement/addEditCourse.html'"></div>
<div ng-include="'partials/adminModule/courseManagement/deleteCourse.html'"></div>
<div ng-include="'partials/adminModule/courseManagement/addEditTPModal.html'"></div>

<div class="container" ng-controller="courseManagementCtrl">
    <div class="span12">
        <div class="widget">
            <div class="widget-header">
                <h3>My Courses</h3>
            </div>
            <div class="widget-content" >
                <center ng-show = "adminTrainingProgramList.length == 0">
                    <h4>You did not create any Training Program.</h4>
                    <h5>To create click on "Add Training Program" </h5>
                </center>
                <div ng-repeat="trainingProgram in adminTrainingProgramList" style="margin-top: 5px">
                    <div class="round-wrap">
                        <a data-toggle="collapse" data-target="#collapse{{trainingProgram.id}}">
                            <blockquote class="blockquote">

                                <img  style="float:left; clear:both; margin-right: 10px;" alt="training-program-icon" class="img-responsive" src = "{{trainingProgram.imgLink}}" width="70px">
                                {{trainingProgram.name}}
                                <footer class="blockquote-footer"> {{trainingProgram.description}}</footer>
                                <!-- <uib-progressbar style="margin:0" class="progress-striped" max="100" value=trainingProgram.completePercent type="success"><i>{{trainingProgram.completePercent}}% completed</i></uib-progressbar> -->

                                <center><span class="glyphicon glyphicon-menu-down"></span></center>
                                <!-- TODO Edit add Training Program -->
                                <a class="a-inside edit" data-toggle="modal" href="#addEditTPModal" ng-click="showUpdateTPForm(trainingProgram)"><span class="glyphicon glyphicon-pencil"></span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <a class="a-inside delete" data-toggle="modal" href="#deleteModal" ng-click="showDeleteTPForm(trainingProgram)"><span class="glyphicon glyphicon-trash"></span></a>

                            </blockquote>
                        </a>
                    </div>

                    <div  id="collapse{{trainingProgram.id}}" class="panel-collapse collapse" >
                        <ul class="list-group">
                            <li class="row" ng-repeat="course in trainingProgram.Courses">
                                <div class="col-md-1"></div>
                                <div class="col-md-9 col-sm-8" style="border-left:2px solid {{course.backgroundColor}};">
                                    <blockquote class="blockquote">
                                        <a ui-sref="courseDetail({courseId: course.id})">
                                            <img  style="float:left; clear:both; margin-right:10px;" alt="course-icon" class="img-responsive" src = "{{course.imgLink}}" width="70px">
                                            {{course.name}}
                                            <footer class="blockquote-footer">{{course.description}}</footer>
                                            <!-- Edit and Delete Course -->
                                            <a class="a-inside edit" data-toggle="modal" href="#addEditCourseModal" ng-click="showUpdateCourseForm(trainingProgram, course )"><span class="glyphicon glyphicon-pencil"></span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <a class="a-inside delete" data-toggle="modal" href="#deleteModal" ng-click="showDeleteCourseForm(course)"><span class="glyphicon glyphicon-trash"></span></a>
                                        </a>
                                    </blockquote>
                                </div>
                                <!-- Class -->
                                <div class="col-md-2 col-sm-4">
                                    <center >
                                        <div ng-repeat="adminclass in course.Classes">
                                            <button data-toggle="modal" href="#classHistoryModal"  >
                                                Class history &nbsp <i class="fa fa-bars" aria-hidden="true"></i>
                                            </button>
                                        </div>
                                        <div class="btn btn-success" data-toggle="modal" href="#addCourseModal"  ng-click="showAddClassForm()"><span class="glyphicon glyphicon-plus"></span></div>
                                    </center>
                                </div>
                                <br />
                            </li>
                            <!-- Add Course -->
                            <li class="row">
                                <div class="col-md-1"></div>
                                <div class="col-md-9 col-sm-8" style="border-left:2px solid {{course.backgroundColor}};">
                                    <div class="btn btn-success" data-toggle="modal" href="#addEditCourseModal"  ng-click="showAddCourseForm(trainingProgram)"><span class="glyphicon glyphicon-plus"></span></div>
                                    Add Course
                                </div>
                                <div class="col-md-2 col-sm-4"></div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="round-wrap">
                    <blockquote class="blockquote">
                        <div class="btn btn-success" data-toggle="modal" href="#addEditTPModal"  ng-click="showAddTPForm()"><span class="glyphicon glyphicon-plus"></span></div>
                        Add TrainingProgram
                    </blockquote>
                </div>
            </div>
        </div>
    </div>
</div>
